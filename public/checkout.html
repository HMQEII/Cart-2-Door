<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
<link href="checkout.css" rel="stylesheet">
<link rel="stylesheet" href="handf.css" />
<link rel="icon" type="image/x-icon" href="./Images/SHLocal_logo.png">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" >
    <title>C2D_Checkout</title>
  </head>
  <body class="bg-light">
    <!-- aaron's shiity code start -->
    <header>
      <div class="logo">
          <a href="/Home.html">
            <img src="./Images/SHLocal_logo.png" width= '77px' height='67px 'alt="SHLocal">
          </a>
      </div>
      <nav class="navigation">
          <div class="search-cont">
              <span class="search-icon"><i class="fas fa-search"></i></span>
            <input type="search" id="search-box"  class="search-box">
          </div>
          <a href="">Retailer/Deliverer</a>
          <a href="" class="s_one">Shops</a>
          <a href="/Home.html" class="s_one">Home</a>
          <div class="dropdown">
              <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                  <ion-icon name="person-circle-outline" class="usericon" ></ion-icon>
                  <label id="userid">#</label>
              </button>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#"><ion-icon class="subionicons" name="person"></ion-icon>Profile</a></li>
                <li><a class="dropdown-item" href="#"><ion-icon name="gift-outline" class="subionicons"></ion-icon>Orders</a></li>
                <li><a class="dropdown-item" href="#"><ion-icon name="albums-outline" class="subionicons"></ion-icon>Advertise</a></li>
                <li><a class="dropdown-item" href="/Cart_page.html"><ion-icon class="subionicons" name="cart"></ion-icon>Cart</a></li>
                <li><a class="dropdown-item" href="/WelcomePage.html"><ion-icon class="subionicons" name="power"></ion-icon>Log Out</a></li>
              </ul>
            </div>
      </nav>
  </header>
       <!-- aaron's shiity code end -->

       <script>
        document.addEventListener('DOMContentLoaded', function() {
    function retrieveDetailsFromLocalStorage() {
        // Retrieve the details from local storage
        const localVariableDetails = JSON.parse(localStorage.getItem('localVariableDetails'));

        if (localVariableDetails) {
            // Set the details in the checkout page
            document.getElementById('shopname').textContent = localVariableDetails.shopName;
            document.getElementById('itemname').textContent = localVariableDetails.itemName;
            // alert(localVariableDetails.shopName);
            // alert(localVariableDetails.itemName);
        }
    }

    // Call the function to retrieve and display details
    retrieveDetailsFromLocalStorage();
});

    </script>
    <div class="container">
      <div class="py-5 text-center">
        <img
          class="mb-4 d-block mx-auto mt-5"
          src="./Images/SHLocal_logo.png"
          alt="our logo"
          width="72"
          height="72"
        />
        
        <h2>Checkout</h2>
        <p class="lead">
          Here is the summary of your products 
        </p>
      </div>
    </div>
    <div class="container">
      <h4 class="mb-3">Delivery Address</h4>
      <form novalidate>
        <div class="row g-3">
          <div class="col-sm-6">
            <label for="firstName" class="form-label" >First Name</label>
            <input
              id="firstName"
              type="text"
              class="form-control"
              placeholder="John"
              required
            />
            <div class="invalid-feedback">Valid first name is requidred</div>
          </div>
          <div class="col-sm-6">
            <label for="lastName" class="form-label" >Last Name</label>
            <input
              id="lastName"
              type="text"
              class="form-control"
              placeholder="Smith"
              required
            />
            <div class="invalid-feedback">Valid last name is requidred</div>
          </div>
          <div class="col-12">
            <label for="username" class="form-label">Username</label>
            <div class="input-group">
              <span class="input-group-text">@</span><label id="useridforbiling" style="text-align: center;padding:10px;">#</label>
            </div>
          </div>
          <div class="col-md-4">
            <label for="state" class="form-label">State</label>
            <select id="state" class="form-control">
              <option value="">Choose..</option>
              <option value="JK">Jammu and Kashmir</option>
              <option value="HP">Himachal Pradesh</option>
              <option value="PB">Punjab</option>
              <option value="HR">Haryana</option>
              <option value="UK">Uttarakhand</option>
              <option value="DL">Delhi</option>
              <option value="RJ">Rajasthan</option>
              <option value="UP">Uttar Pradesh</option>
              <option value="BR">Bihar</option>
              <option value="JH">Jharkhand</option>
              <option value="CG">Chhattisgarh</option>
              <option value="OR">Odisha</option>
              <option value="MP">Madhya Pradesh</option>
              <option value="MH">Maharashtra</option>
              <option value="GJ">Gujarat</option>
              <option value="DN">Dadra and Nagar Haveli and Daman and Diu</option>
              <option value="KA">Karnataka</option>
              <option value="AP">Andhra Pradesh</option>
              <option value="TS">Telangana</option>
              <option value="KL">Kerala</option>
              <option value="TN">Tamil Nadu</option>
              <option value="PY">Puducherry</option>
              <option value="AN">Andaman and Nicobar Islands</option>
              <option value="LD">Lakshadweep</option>

            </select>
          </div>
          <div class="col-md-4">
            <label for="city" class="form-label">City</label>
            <select id="city" class="form-control">
              <option value="">Choose..</option>
              <option value="mumbai">Bombay</option>
              <option value="pune">Pune</option>
              <option value="pune">Thane</option>
              <option value="pune">Ratnagiri</option>
              <option value="pune">Nashik</option>
            </select>
          </div>
          <div class="col-md-3">
            <label for="pincode" class="form-label">Pincode</label>
            <input
              id="1234"
              type="number"
              class="form-control"
              placeholder="400092"
              required
            />
          </div>
          <hr class="my-4" />
          <div class="col-12">
            <h4 class="mb-3">Order Summary</h4>
          </div>
          <div class="small-container cart-page">
            <table>
                <tr>
                    <th><h5>Product</h5></th>
                    <th><h5>Quantity</h5></th>
                    <th><h5>SubTotal</h5></th>
                </tr>
                <tr data-id="1">
                    <td>
                        <div class="cart-info">
                            <img src="https://drive.google.com/uc?id=1HY6R6gOTl2bqaQ2aKSZGStpvBB1n_Xty" alt="Onions">
                            <div>
                                <p>Onions</p>
                                <small>Dmart</small><br>
                                <small>Price: £</small><small id="initialprice">50</small><br>
                                <a href="">Remove</a>
                            </div>
                        </div>
                    </td>
                    <td>
                      <div class="quantity-input">
                        <button class="decrement-button" type="button"><ion-icon name="remove-circle-outline" class="minusicon"></ion-icon></button>
                        <input type="number" value="1" min="1" >
                        <button class="increment-button" type="button"><ion-icon name="add-circle-outline" class="plusicon"></ion-icon></button>
                    </div>
                    </td>
                    <td>£50.00</td>
                </tr>
            </table>
            <div class="rhs-section">
              <div class="total-price">
                  <table>
                      <tr>
                          <td>SubTotal</td>
                          <td id="subtotal">£200</td>
                      </tr>
                      <tr>
                          <td>Charges + Tax</td>
                          <td>£15</td>
                      </tr>
                      <tr class="totalamt">
                          <td >Total</td>
                          <td>£215</td>
                      </tr>
                  </table>
              </div>
          </div>          
          
          <script>
            document.addEventListener('DOMContentLoaded', function () {
              // Get all the input elements and the subtotal element
              const inputElements = document.querySelectorAll('.quantity-input input');
              const subtotalElement = document.getElementById('subtotal');
              const temp = document.getElementById('initialprice').textContent;
              alert(temp);
            
              // Function to update the subtotal
              function updateSubtotal() {
                let subtotal = 0;
            
                // Iterate through each input element
                inputElements.forEach(inputElement => {
                  // Get the quantity from the input element
                  const quantity = parseInt(inputElement.value);
            
                  // Get the price element for this input
                  const priceElement = inputElement.closest('tr').querySelector('td:nth-child(3)');
                  const priceText = priceElement.textContent;
                  const price = parseFloat(priceText.replace('£', ''));
            
                  // Calculate the row subtotal based on the quantity and price
                  const rowSubtotal = (temp * quantity).toFixed(2);
                  subtotal += parseFloat(rowSubtotal);
            
                  // Update the corresponding <td> with the new row subtotal
                  priceElement.textContent = `£${rowSubtotal}`;
                });
            
                // Update the subtotal element with the new subtotal
                subtotalElement.textContent = `£${subtotal.toFixed(2)}`;
              }
            
              // Calculate the initial subtotal
              updateSubtotal();
            
              // Listen for changes in the input value for all input elements
              inputElements.forEach(inputElement => {
                inputElement.addEventListener('input', updateSubtotal);
              });
            });
            </script>
            
            
        </div>
          <hr class="my-4" />
          <h4>Address of the seller</h4>
          <label>
            Seller 1:
            Xyz,4001,adjdaoija
            dajdia
            dajdaoijaoidja
            Borivali(West)
          </label>
          <label>
            Seller 2 :
            Xyz,4001,adjdaoija
            dajdia
            dajdaoijaoidja
            Borivali(West)
          </label>
          <hr class="my-4" />
          <h4 class="mb-3">Payments</h4>

          <div class="form-check">
            <input
              id="COD"
              name="paymentMethod"
              type="radio"
              class="form-check-input"
              required
              checked
            />
            <label for="COD">Cash on delivery</label>
          </div>
          <div class="form-check">
            <input
              id="paypal"
              name="paymentMethod"
              type="radio"
              class="form-check-input"
              required
              checked
            />
            <label for="paypal">PayPal</label>
          </div>
          <hr class="my-4">

          <button class="btn btn-primary btn-lg">Place order</button>
          <button class="btn btn-secondary btn-lg mb-3">Cancel transaction</button>
        </div>
      </form>
    </div>
        <!-- aaron's shitty code start -->
        <footer class="footer">
          <div class="navigation-foot">
              
              <div class="row">
                  <div class="footer-col">
                      <h4>Get Help</h4>
                      <ul class="ul1">
                          <li><a href='#'>FAQ</a></li>
                          <li><a href='#'>Shipping</a></li>
                          <li><a href='#'>Returns</a></li>
                          <li><a href='#'>Payment Options</a></li>
                      </ul>
                  </div>
                  <div class="footer-col">
                      <h4>Company</h4>
                      <ul class="ul1">
                          
                          <li><a href='#'>Privacy Policy</a></li>
                          <li><a href='#'>Affilliate Program</a></li>
                      </ul>
                  </div>
                  <div class="footer-col">
                      <h4>Contact Us</h4>
                      <ul class="ul1">
                          <li><a href="mailto:cart2door@gmail.com">support@c2d.com</a></li>
                          <li><p>9169420569</p></li>
                      </ul>
                  </div>
                  <div class="footer-col">
                      <h4>Follow Us</h4>
                      <div class="social-media-links">
                          <a href='#'><i class='fab fa-facebook-f'></i></a>
                          <a href='#'><i class='fab fa-instagram'></i></a>
                      </div>
                  </div>
              </div>
          </div>
         </footer>
         <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
         <script>
          // Retrieve the username from local storage
          const username = localStorage.getItem("username");

          // Check if the username exists in local storage
          if (username) {
              // Update the DOM element with the username
              document.getElementById("userid").textContent = username;
              document.getElementById("useridforbiling").textContent = username;
              // alert(username);
          }
         </script>
         <script src="homescript.js"></script>
         <!-- <script src="coutscript.js"></script> -->
         <script>
          // JavaScript to handle increment and decrement functionality for each row
const decrementButtons = document.querySelectorAll('.decrement-button');
const incrementButtons = document.querySelectorAll('.increment-button');
const quantityInputs = document.querySelectorAll('.quantity-input input');

decrementButtons.forEach((decrementButton, index) => {
    decrementButton.addEventListener('click', () => {
        if (quantityInputs[index].value > 1) {
            quantityInputs[index].value = parseInt(quantityInputs[index].value) - 1;
        }
    });
});

incrementButtons.forEach((incrementButton, index) => {
    incrementButton.addEventListener('click', () => {
        quantityInputs[index].value = parseInt(quantityInputs[index].value) + 1;
    });
});

      </script>
         <!--Start of Tawk.to Script-->
    <script type="text/javascript">
     var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
     (function(){
     var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
     s1.async=true;
     s1.src='https://embed.tawk.to/64c22bf8cc26a871b02b872a/1h6b7nhcu';
     s1.charset='UTF-8';
     s1.setAttribute('crossorigin','*');
     s0.parentNode.insertBefore(s1,s0);
     })();
     </script>
     <!--End of Tawk.to Script-->
         <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
        <!-- aaron's shitty code end -->
  </body>
</html>
